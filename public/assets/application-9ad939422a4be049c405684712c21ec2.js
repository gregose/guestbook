csrfToken=function(){return tag=document.querySelector("meta[name=csrf-token]"),tag.content},ajaxUpdateStatusMessage=function(e,t,n){xhr=new XMLHttpRequest,xhr.addEventListener("readystatechange",function(){4==xhr.readyState&&(alert=document.querySelector(".alert-success"),alert.innerHTML=xhr.responseText,alert.classList.remove("hidden"),n())}),xhr.open(e,t),xhr.setRequestHeader("X-CSRF-Token",csrfToken()),xhr.send()},approveButtonHandler=function(){post=this.parentElement.parentElement.parentElement,url=post.querySelector(".js-post-url").href+"/approve",that=this,ajaxUpdateStatusMessage("PUT",url,function(){post.querySelector(".btn-group").remove()})},deleteButtonHandler=function(){post=this.parentElement.parentElement.parentElement,url=post.querySelector(".js-post-url").href,ajaxUpdateStatusMessage("DELETE",url,function(){post.remove()})},window.addEventListener("load",function(){for(approveButtons=document.querySelectorAll("button.js-approve-button"),i=0;i<approveButtons.length;i++)approveButtons[i].addEventListener("click",approveButtonHandler);for(deleteButtons=document.querySelectorAll("button.js-delete-button"),i=0;i<deleteButtons.length;i++)deleteButtons[i].addEventListener("click",deleteButtonHandler)});